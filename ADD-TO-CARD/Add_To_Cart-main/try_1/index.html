<!DOCTYPE html>
<html lang="en">
<head>
    <title>Add to cart</title>
    <link rel="stylesheet" href="./style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

    <header>
        <div class="nav">
            <a href="#" style="margin-left: 60px;"><i class="fa-solid fa-cubes-stacked"></i> FOOD DELIGHT</a>
            <a href="add.html"> <i class="fa-solid fa-cart-shopping"></i> </a>
        </div>
    </header>

    <section class="food">
        <div class="container">
            <div class="row">
                <h2>Discover the Best Food</h2>
            </div>
        </div>
    </section>

    <section>
        <div class="container"> 
            <div class="row" id="product"></div>
        </div>
    </section>
    
</body>

<script type="text/javascript">
    let product=[
        {
            id:"1",
            name:"Fish",
            price:150,
            qty:1,
            image:"https://images.unsplash.com/photo-1544025162-d76694265947?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fHJlc3RhdXJhbnQlMjBmb29kfGVufDB8fDB8fHww"
        },
        {
            id:"2",
            name:"Burger",
            price:165,
            qty:1,
            image:"https://images.unsplash.com/photo-1457460866886-40ef8d4b42a0?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fHJlc3RhdXJhbnQlMjBmb29kfGVufDB8fDB8fHww"
        },
        {
            id:"3",
            name:"Ghughra",
            price:80,
            qty:1,
            image:"https://images.unsplash.com/photo-1543992321-cefacfc2322e?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjZ8fHJlc3RhdXJhbnQlMjBmb29kfGVufDB8fDB8fHww"
        },
        {
            id:"4",
            name:"Pasta",
            price:85,
            qty:1,
            image:"https://images.unsplash.com/photo-1597393353365-9d4366392fe9?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzJ8fHJlc3RhdXJhbnQlMjBmb29kfGVufDB8fDB8fHww"
        },
        {
            id:"5",
            name:"Vegetable",
            price:125,
            qty:1,
            image:"https://images.unsplash.com/photo-1598515214211-89d3c73ae83b?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDR8fHJlc3RhdXJhbnQlMjBmb29kfGVufDB8fDB8fHww"
        },
        {
            id:"6",
            name:"Shushi",
            price:280,
            qty:1,
            image:"https://images.unsplash.com/photo-1512132411229-c30391241dd8?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTV8fHJlc3RhdXJhbnQlMjBmb29kfGVufDB8fDB8fHww"
        },
        {
            id:"7",
            name:"Veg pizza ",
            price:135,
            qty:1,
            image:"https://images.unsplash.com/photo-1588315029754-2dd089d39a1a?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fHBpenphfGVufDB8fDB8fHww"
        },
        {
            id:"8",
            name:"Margherita p.",
            price:105,
            qty:1,
            image:"https://images.unsplash.com/photo-1513104890138-7c749659a591?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGl6emF8ZW58MHx8MHx8fDA%3D"
        },
    ];

    const viewproduct = () =>{
        let tbl="";
        product.map((val)=>{
            return (
                tbl += `
                    <div class="col-sm-12 col-lg-6 col-xl-3 d-flex justify-content-center">
                        <div class="card" style="width: 19rem;margin-top:20px;margin-bottom:10px;">
  <img src="${val.image}" class="card-img-top" alt="..." style="padding:10px;">
  <div class="card-body">
    <h5 class="card-title" style="font-size:25px;">Name :- ${val.name}</h5>
    <p class="card-text" style="font-size:22px;">Price :- ${val.price}</p>
    <div class="d-flex justify-content-end">
    <a onclick="addcart(${val.id})" class="btn w-100" style="background:gray;color:white;font-size:21px">Add to cart</a>
</div>
  </div>
</div>
                        </div>

                `
            )
        })
        document.getElementById('product').innerHTML=tbl;
    }
    viewproduct();

    let cart=[];

    const addcart = (id) =>{
    let allcart=JSON.parse(localStorage.getItem('cart')) ? JSON.parse(localStorage.getItem('cart'))  : []
    let single=allcart.find((val)=>{
        return val.id == id;
    })
    if(single){
    alert("Item All Ready add...");
    return false;
    }
    if (
    localStorage.getItem("cart") === null ||
    localStorage.getItem("cart") === undefined
  ) {
    product.map(val => {
      if (val.id == id) {
        cart.push(val);
      }
    });
    localStorage.setItem("cart", JSON.stringify(cart));
  } else {
    let old = JSON.parse(localStorage.getItem("cart"));
    product.map(val => {
      if (val.id == id) {
        old.push(val);
      }
    });
    localStorage.setItem("cart", JSON.stringify(old));
  }
  alert("Product Successfully add in cart");
  viewproduct();

}

</script>
</html>